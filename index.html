<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>The Kapil Sharma Show | Netflix</title>

<style>
/* ===== RESET ===== */
*{
  margin:0;
  padding:0;
  box-sizing:border-box;
  font-family: Arial, Helvetica, sans-serif;
}

/* ===== BODY ===== */
body{
  background:#000;
  color:#fff;
}

/* ===== HEADER ===== */
.topbar{
  background:#111;
  padding:15px 20px;
  color:#e50914;
  font-size:24px;
  font-weight:bold;
  letter-spacing:2px;
}

/* ===== GRID ===== */
.container{
  padding:16px;
  display:grid;
  grid-template-columns:repeat(auto-fill, minmax(180px, 1fr));
  gap:16px;
}

/* ===== CARD ===== */
.card{
  background:#141414;
  border-radius:8px;
  overflow:hidden;
  transition:0.3s;
}
.card:hover{
  transform:scale(1.05);
}

/* ===== POSTER ===== */
.card img{
  width:100%;
  height:260px;
  object-fit:cover;
}

/* ===== CONTENT ===== */
.card-content{
  padding:10px;
}

.card-content h3{
  font-size:14px;
  margin-bottom:8px;
}

/* ===== BUTTONS ===== */
.buttons{
  display:flex;
  gap:8px;
}

button{
  flex:1;
  padding:8px;
  font-size:12px;
  border:none;
  border-radius:4px;
  cursor:pointer;
}

.watch{
  background:#e50914;
  color:#fff;
}

.download{
  background:#333;
  color:#fff;
}

/* ===== MOBILE ===== */
@media(max-width:600px){
  .topbar{
    text-align:center;
    font-size:20px;
  }
  .card img{
    height:200px;
  }
}
</style>
</head>

<body>

<!-- ===== HEADER ===== -->
<div class="topbar">NETFLIX [Kapil Show S04 2026]</div>
<br>
<marquee>New Episode Upload Every Saturday........</marquee>
<!-- ===== EPISODES ===== -->
<div class="container" id="episodeList"></div>

<script>
/* ===== FETCH DATA.JSON ===== */
fetch("https://raw.githubusercontent.com/Maxmentor/kapilpshow-s04/refs/heads/main/data.json")
.then(response => response.json())
.then(episodes => {
  const list = document.getElementById("episodeList");

  episodes.forEach(ep => {
    list.innerHTML += `
      <div class="card">
        <img src="${ep.poster}" alt="${ep.episode}">
        <div class="card-content">
          <h3>${ep.episode}</h3>
          <div class="buttons">
            <button class="watch" onclick="watchNow('${ep.watchLink}')">
              ▶ Watch Now
            </button>
            <a href="${ep.downloadLink}">
              <button class="download">
                ⬇ Download
              </button>
            </a>
          </div>
        </div>
      </div>
    `;
  });
})
.catch(err => {
  console.error("JSON load error:", err);
});

/* ===== WATCH NOW ===== */
function watchNow(link){
  localStorage.setItem("videoLink", link);
  window.location.href = "player.html";
}
</script>

</body>
</html>
